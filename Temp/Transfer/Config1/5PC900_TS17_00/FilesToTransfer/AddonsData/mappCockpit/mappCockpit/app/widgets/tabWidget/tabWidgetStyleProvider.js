define(["require", "exports"], function (require, exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    var TabWidgetStyleProvider = /** @class */ (function () {
        function TabWidgetStyleProvider() {
        }
        TabWidgetStyleProvider.getInstance = function () {
            if (!TabWidgetStyleProvider.instance) {
                TabWidgetStyleProvider.instance = new TabWidgetStyleProvider();
                // ... any one time initialization goes here ...
            }
            return TabWidgetStyleProvider.instance;
        };
        TabWidgetStyleProvider.prototype.appendClass = function (className, styleClass) {
            var t = $("head").has("<style> " + styleClass + " </style>");
            if (t) {
                $("head").append("<style> " + styleClass + " </style>");
            }
        };
        //Set Attributes for "our" Components
        TabWidgetStyleProvider.prototype.getTabOverviewDropdownLineStyleClass = function (identifier) {
            var classname = identifier + "_dropdownLineStyle";
            var styleClass = "." + classname + "{ \n                float: right; \n                height: 15px; \n                margin-left: 5px; \n                width: 20px; \n        }";
            this.appendClass(classname, styleClass);
            return classname;
        };
        TabWidgetStyleProvider.prototype.getTabOverviewDropdownCloseAllStyleClass = function (identifier) {
            var classname = identifier + "_dropdownCloseAll";
            var styleClass = "." + classname + "{ \n            background-color: var(--main-black);\n            color: grey;\n            border: 0px;\n            width: 48%;\n        }";
            this.appendClass(classname, styleClass);
            return classname;
        };
        //TODO: migrate to new styling mechanism
        //set CSS-Attributes for SF-Components
        TabWidgetStyleProvider.prototype.getDropdownStyle = function (layoutContainerId) {
            var html = "<style>\n            #" + layoutContainerId + "_dropdown_dropdown {\n                width: 100%;\n                color: var(--main-border-color);\n                background-color: var(--main-black);\n                border-left: var(--main-border-color) solid 2px;\n            }\n\n            #" + layoutContainerId + "_dropdown_dropdown:hover {\n                color:white;\n            }\n            \n            #" + layoutContainerId + "_dropdown_popup ul li{\n                background-color: var(--main-black);\n                color:#AFAFAF;\n            }\n\n            #" + layoutContainerId + "_dropdown_popup ul li:hover{\n                color: white;\n                cursor: pointer;\n            }\n\n            #" + layoutContainerId + "_dropdown_popup ul li Wbutton{\n                background-color: var(--main-black);\n                color: grey;\n                border: 0px; \n                height: 100%;\n                width: 15px; \n            }\n\n            #" + layoutContainerId + "_dropdown_popup ul li button img{\n               width: inherit;\n               height: inherit;\n               -webkit-filter: contrast(0);\n                filter: contrast(0);\n            }\n\n            #" + layoutContainerId + "_dropdown_popup ul li button img:hover{\n                -webkit-filter: contrast(1);\n                filter: contrast(1);\n            }\n            \n        </style>";
            return html;
        };
        TabWidgetStyleProvider.prototype.getLayoutStyleForTabBarDropDown = function (tabBarName) {
            var html = "<style> \n            #" + tabBarName + "_dropdown_closeAll{\n                background-color: var(--main-black);\n                color: grey;\n                border: 0px;\n                width: 48%;\n            }\n            \n            #" + tabBarName + "_dropdown_closeAll:hover{\n                color:white;\n                cursor: pointer;\n            }\n            \n            #" + tabBarName + "_dropdown_closeAllOther{\n                background-color: var(--main-black);\n                color: grey;\n                border: 0px;\n                border-left: 1px grey solid;\n                width: 48%;\n            }\n            \n            #" + tabBarName + "_dropdown_closeAllOther:hover{\n                color:white;\n                cursor: pointer;\n            }\n\n        </style>";
            return html;
        };
        TabWidgetStyleProvider.prototype.setOverviewDropdownMouseOver = function (layoutContainerId) {
            $("#" + layoutContainerId + "_dropdown_popup_list_wrapper_header button").mouseover(function () {
                $(this).css("color", "white");
            }).mouseout(function () {
                $(this).css("color", "grey");
            });
        };
        TabWidgetStyleProvider.prototype.setFlexTabStlye = function (newLayoutElementId) {
            $("#" + newLayoutElementId + "_tag_container").addClass("TabBarTagDropdown");
            $("#" + newLayoutElementId + "_tag_hidden").addClass("TabBarTagDropdown");
            $("#" + newLayoutElementId + "_tag_dropdown").addClass("TabBarTagDropdown");
            $("#" + newLayoutElementId + "_tag_hidden").css("background", "inherit");
            $("#" + newLayoutElementId + "_tag_hidden").css("color", "white");
            $("#" + newLayoutElementId + "_tag_hidden").css("opacity", "1");
            var width = $("#" + newLayoutElementId + "_tag_popup_list_wrapper").css("width");
            $("#" + newLayoutElementId + "_tag_hidden").css("width", width);
            $("#" + newLayoutElementId + "_tag_container").css("background", "inherit");
            $("#" + newLayoutElementId + "_tag_container").css("color", "white");
            $("#" + newLayoutElementId + "_tag_dropdown").css("background", "inherit");
            $("#" + newLayoutElementId + "_tag_dropdown").css("color", "white");
            $("#" + newLayoutElementId + "_tag_dropdown").css("border", "0px");
        };
        TabWidgetStyleProvider.prototype.setFlexTabActiveTabStyle = function (tabName) {
            var element = document.getElementById(tabName);
            if (element != undefined) {
                element.style.display = "block";
            }
            var tabElement = document.getElementById(tabName + "_tab");
            if (tabElement != undefined) {
                tabElement.className += " active";
            }
        };
        TabWidgetStyleProvider.prototype.setFlexTabSelectionDropdownPopupStyle = function (layoutContainerId) {
            $("#" + layoutContainerId + "_dropdown_wrapper").css("float", "right");
            $("#" + layoutContainerId + "_dropdown_container").css("border", "0px");
            $("#" + layoutContainerId + "_dropdown_container").css("margin-right", "3px");
            $("#" + layoutContainerId + "_dropdown_hidden").css("display", "none");
            $("#" + layoutContainerId + "_dropdown_popup_list_wrapper").css("min-width", "280px");
            $("#" + layoutContainerId + "_dropdown_popup_list_wrapper_header").css("height", "30px");
            $("#" + layoutContainerId + "_dropdown_popup_list_wrapper_header").css("background", "var(--main-black)");
            $("#" + layoutContainerId + "_dropdown_popup_list_wrapper_header").css("border-top", "1px gray solid");
            $("#" + layoutContainerId + "_dropdown_popup_list_wrapper_header button").css("width", "49%");
            $("#" + layoutContainerId + "_dropdown_popup_list_wrapper_header button").css("height", "inherit");
            $("#" + layoutContainerId + "_dropdown_popup_list_wrapper_header button").css("background", "var(--main-black)");
            $("#" + layoutContainerId + "_dropdown_popup_list_wrapper_header button").css("border", "0px");
            $("#" + layoutContainerId + "_dropdown_popup_list_wrapper_header button:first-child").css("border-right", "1px grey solid");
            $("#" + layoutContainerId + "_dropdown_popup_list_wrapper_header button").css("color", "grey");
        };
        TabWidgetStyleProvider.prototype.getDropdownButtonStyle = function (buttonId) {
            var style = "\n            <style type=\"text/css\">\n\n            #" + buttonId + "{\n                border: 0px;\n                margin-left:3px;\n            }\n            ." + buttonId + " {\n                background-image: url(\"widgets/tabwidget/style/images/IconBasket_grey.svg\");\n                background-repeat: no-repeat;\n                background-size: 16px 16px;\n                background-color: var(--main-black);\n            }\n\n            ." + buttonId + ":hover {\n                    background-image: url(\"widgets/tabwidget/style/images/IconBasket.svg\");\n            }\n            </style>";
            return style;
        };
        return TabWidgetStyleProvider;
    }());
    exports.TabWidgetStyleProvider = TabWidgetStyleProvider;
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidGFiV2lkZ2V0U3R5bGVQcm92aWRlci5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uL3NyYy9hcHAvd2lkZ2V0cy90YWJXaWRnZXQvdGFiV2lkZ2V0U3R5bGVQcm92aWRlci50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7SUFBQTtRQUFBO1FBd05BLENBQUM7UUFwTlUsa0NBQVcsR0FBbEI7WUFDSSxJQUFJLENBQUMsc0JBQXNCLENBQUMsUUFBUSxFQUFFO2dCQUNsQyxzQkFBc0IsQ0FBQyxRQUFRLEdBQUcsSUFBSSxzQkFBc0IsRUFBRSxDQUFDO2dCQUMvRCxnREFBZ0Q7YUFDbkQ7WUFDRCxPQUFPLHNCQUFzQixDQUFDLFFBQVEsQ0FBQztRQUMzQyxDQUFDO1FBRU8sNENBQVcsR0FBbkIsVUFBb0IsU0FBaUIsRUFBRSxVQUFrQjtZQUNyRCxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUMsTUFBTSxDQUFDLENBQUMsR0FBRyxDQUFDLFVBQVUsR0FBQyxVQUFVLEdBQUMsV0FBVyxDQUFDLENBQUM7WUFDekQsSUFBRyxDQUFDLEVBQUM7Z0JBQ0QsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxDQUFDLE1BQU0sQ0FBQyxVQUFVLEdBQUMsVUFBVSxHQUFDLFdBQVcsQ0FBQyxDQUFDO2FBQ3ZEO1FBQ0wsQ0FBQztRQUVELHFDQUFxQztRQUNyQyxxRUFBb0MsR0FBcEMsVUFBcUMsVUFBa0I7WUFDbkQsSUFBSSxTQUFTLEdBQVcsVUFBVSxHQUFDLG9CQUFvQixDQUFDO1lBQ3hELElBQUksVUFBVSxHQUFXLEdBQUcsR0FBQyxTQUFTLEdBQUcsa0pBS3ZDLENBQUM7WUFFSCxJQUFJLENBQUMsV0FBVyxDQUFDLFNBQVMsRUFBRSxVQUFVLENBQUMsQ0FBQztZQUN4QyxPQUFPLFNBQVMsQ0FBQztRQUNyQixDQUFDO1FBRUQseUVBQXdDLEdBQXhDLFVBQXlDLFVBQWtCO1lBQ3ZELElBQUksU0FBUyxHQUFXLFVBQVUsR0FBQyxtQkFBbUIsQ0FBQztZQUN2RCxJQUFJLFVBQVUsR0FBVyxHQUFHLEdBQUMsU0FBUyxHQUFHLDhJQUt2QyxDQUFDO1lBRUgsSUFBSSxDQUFDLFdBQVcsQ0FBQyxTQUFTLEVBQUMsVUFBVSxDQUFDLENBQUM7WUFDdkMsT0FBTyxTQUFTLENBQUM7UUFDckIsQ0FBQztRQUVMLHdDQUF3QztRQUNwQyxzQ0FBc0M7UUFDckMsaURBQWdCLEdBQWhCLFVBQWlCLGlCQUFpQjtZQUMvQixJQUFJLElBQUksR0FBRyx3QkFDTCxHQUFDLGlCQUFpQixHQUFDLDhQQU9uQixHQUFDLGlCQUFpQixHQUFDLHNHQUluQixHQUFDLGlCQUFpQixHQUFDLDhJQUtuQixHQUFDLGlCQUFpQixHQUFDLCtIQUtuQixHQUFDLGlCQUFpQixHQUFDLGlQQVFuQixHQUFDLGlCQUFpQixHQUFDLHVOQU9uQixHQUFDLGlCQUFpQixHQUFDLDRLQUtoQixDQUFBO1lBRVQsT0FBTyxJQUFJLENBQUM7UUFDaEIsQ0FBQztRQUVELGdFQUErQixHQUEvQixVQUFnQyxVQUFVO1lBQ3RDLElBQUksSUFBSSxHQUFFLHlCQUNKLEdBQUMsVUFBVSxHQUFDLGdOQU9aLEdBQUMsVUFBVSxHQUFDLHVJQUtaLEdBQUMsVUFBVSxHQUFDLG1RQVFaLEdBQUMsVUFBVSxHQUFDLG1JQUtULENBQUE7WUFFVCxPQUFPLElBQUksQ0FBQztRQUVoQixDQUFDO1FBRUQsNkRBQTRCLEdBQTVCLFVBQTZCLGlCQUFpQjtZQUMxQyxDQUFDLENBQUMsR0FBRyxHQUFDLGlCQUFpQixHQUFDLDRDQUE0QyxDQUFDLENBQUMsU0FBUyxDQUFDO2dCQUM1RSxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUMsR0FBRyxDQUFDLE9BQU8sRUFBRSxPQUFPLENBQUMsQ0FBQTtZQUNqQyxDQUFDLENBQUMsQ0FBQyxRQUFRLENBQUM7Z0JBQ1IsQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDLEdBQUcsQ0FBQyxPQUFPLEVBQUUsTUFBTSxDQUFDLENBQUE7WUFDaEMsQ0FBQyxDQUFDLENBQUM7UUFDUCxDQUFDO1FBRUQsZ0RBQWUsR0FBZixVQUFnQixrQkFBMEI7WUFDdEMsQ0FBQyxDQUFDLEdBQUcsR0FBQyxrQkFBa0IsR0FBQyxnQkFBZ0IsQ0FBQyxDQUFDLFFBQVEsQ0FBQyxtQkFBbUIsQ0FBQyxDQUFDO1lBQ3pFLENBQUMsQ0FBQyxHQUFHLEdBQUMsa0JBQWtCLEdBQUMsYUFBYSxDQUFDLENBQUMsUUFBUSxDQUFDLG1CQUFtQixDQUFDLENBQUM7WUFDdEUsQ0FBQyxDQUFDLEdBQUcsR0FBQyxrQkFBa0IsR0FBQyxlQUFlLENBQUMsQ0FBQyxRQUFRLENBQUMsbUJBQW1CLENBQUMsQ0FBQztZQUd4RSxDQUFDLENBQUMsR0FBRyxHQUFDLGtCQUFrQixHQUFDLGFBQWEsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxZQUFZLEVBQUUsU0FBUyxDQUFDLENBQUM7WUFDckUsQ0FBQyxDQUFDLEdBQUcsR0FBQyxrQkFBa0IsR0FBQyxhQUFhLENBQUMsQ0FBQyxHQUFHLENBQUMsT0FBTyxFQUFFLE9BQU8sQ0FBQyxDQUFDO1lBQzlELENBQUMsQ0FBQyxHQUFHLEdBQUMsa0JBQWtCLEdBQUMsYUFBYSxDQUFDLENBQUMsR0FBRyxDQUFDLFNBQVMsRUFBRSxHQUFHLENBQUMsQ0FBQztZQUU1RCxJQUFJLEtBQUssR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFDLGtCQUFrQixHQUFDLHlCQUF5QixDQUFDLENBQUMsR0FBRyxDQUFDLE9BQU8sQ0FBQyxDQUFDO1lBQzdFLENBQUMsQ0FBQyxHQUFHLEdBQUMsa0JBQWtCLEdBQUMsYUFBYSxDQUFDLENBQUMsR0FBRyxDQUFDLE9BQU8sRUFBRSxLQUFNLENBQUMsQ0FBQztZQUU3RCxDQUFDLENBQUMsR0FBRyxHQUFDLGtCQUFrQixHQUFDLGdCQUFnQixDQUFDLENBQUMsR0FBRyxDQUFDLFlBQVksRUFBRSxTQUFTLENBQUMsQ0FBQztZQUN4RSxDQUFDLENBQUMsR0FBRyxHQUFDLGtCQUFrQixHQUFDLGdCQUFnQixDQUFDLENBQUMsR0FBRyxDQUFDLE9BQU8sRUFBRSxPQUFPLENBQUMsQ0FBQztZQUVqRSxDQUFDLENBQUMsR0FBRyxHQUFDLGtCQUFrQixHQUFDLGVBQWUsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxZQUFZLEVBQUUsU0FBUyxDQUFDLENBQUM7WUFDdkUsQ0FBQyxDQUFDLEdBQUcsR0FBQyxrQkFBa0IsR0FBQyxlQUFlLENBQUMsQ0FBQyxHQUFHLENBQUMsT0FBTyxFQUFFLE9BQU8sQ0FBQyxDQUFDO1lBQ2hFLENBQUMsQ0FBQyxHQUFHLEdBQUMsa0JBQWtCLEdBQUMsZUFBZSxDQUFDLENBQUMsR0FBRyxDQUFDLFFBQVEsRUFBRSxLQUFLLENBQUMsQ0FBQztRQUNuRSxDQUFDO1FBRUQseURBQXdCLEdBQXhCLFVBQXlCLE9BQWM7WUFDbkMsSUFBSSxPQUFPLEdBQUcsUUFBUSxDQUFDLGNBQWMsQ0FBQyxPQUFPLENBQUMsQ0FBQztZQUMvQyxJQUFHLE9BQU8sSUFBSSxTQUFTLEVBQUM7Z0JBQ3BCLE9BQU8sQ0FBQyxLQUFLLENBQUMsT0FBTyxHQUFHLE9BQU8sQ0FBQzthQUNuQztZQUVELElBQUksVUFBVSxHQUFHLFFBQVEsQ0FBQyxjQUFjLENBQUMsT0FBTyxHQUFDLE1BQU0sQ0FBQyxDQUFDO1lBQ3pELElBQUcsVUFBVSxJQUFLLFNBQVMsRUFBQztnQkFDeEIsVUFBVSxDQUFDLFNBQVMsSUFBSSxTQUFTLENBQUM7YUFDckM7UUFDTCxDQUFDO1FBRUQsc0VBQXFDLEdBQXJDLFVBQXNDLGlCQUFpQjtZQUNuRCxDQUFDLENBQUMsR0FBRyxHQUFDLGlCQUFpQixHQUFDLG1CQUFtQixDQUFDLENBQUMsR0FBRyxDQUFDLE9BQU8sRUFBRSxPQUFPLENBQUMsQ0FBQztZQUNuRSxDQUFDLENBQUMsR0FBRyxHQUFDLGlCQUFpQixHQUFDLHFCQUFxQixDQUFDLENBQUMsR0FBRyxDQUFDLFFBQVEsRUFBRSxLQUFLLENBQUMsQ0FBQztZQUNwRSxDQUFDLENBQUMsR0FBRyxHQUFDLGlCQUFpQixHQUFDLHFCQUFxQixDQUFDLENBQUMsR0FBRyxDQUFDLGNBQWMsRUFBRSxLQUFLLENBQUMsQ0FBQztZQUMxRSxDQUFDLENBQUMsR0FBRyxHQUFDLGlCQUFpQixHQUFDLGtCQUFrQixDQUFDLENBQUMsR0FBRyxDQUFDLFNBQVMsRUFBRSxNQUFNLENBQUMsQ0FBQztZQUluRSxDQUFDLENBQUMsR0FBRyxHQUFDLGlCQUFpQixHQUFDLDhCQUE4QixDQUFDLENBQUMsR0FBRyxDQUFDLFdBQVcsRUFBRSxPQUFPLENBQUMsQ0FBQztZQUdsRixDQUFDLENBQUMsR0FBRyxHQUFDLGlCQUFpQixHQUFDLHFDQUFxQyxDQUFDLENBQUMsR0FBRyxDQUFDLFFBQVEsRUFBRSxNQUFNLENBQUMsQ0FBQztZQUNyRixDQUFDLENBQUMsR0FBRyxHQUFDLGlCQUFpQixHQUFDLHFDQUFxQyxDQUFDLENBQUMsR0FBRyxDQUFDLFlBQVksRUFBRSxtQkFBbUIsQ0FBQyxDQUFDO1lBQ3RHLENBQUMsQ0FBQyxHQUFHLEdBQUMsaUJBQWlCLEdBQUMscUNBQXFDLENBQUMsQ0FBQyxHQUFHLENBQUMsWUFBWSxFQUFFLGdCQUFnQixDQUFDLENBQUM7WUFFbkcsQ0FBQyxDQUFDLEdBQUcsR0FBQyxpQkFBaUIsR0FBQyw0Q0FBNEMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxPQUFPLEVBQUUsS0FBSyxDQUFDLENBQUM7WUFDMUYsQ0FBQyxDQUFDLEdBQUcsR0FBQyxpQkFBaUIsR0FBQyw0Q0FBNEMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxRQUFRLEVBQUUsU0FBUyxDQUFDLENBQUM7WUFDL0YsQ0FBQyxDQUFDLEdBQUcsR0FBQyxpQkFBaUIsR0FBQyw0Q0FBNEMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxZQUFZLEVBQUUsbUJBQW1CLENBQUMsQ0FBQztZQUM3RyxDQUFDLENBQUMsR0FBRyxHQUFDLGlCQUFpQixHQUFDLDRDQUE0QyxDQUFDLENBQUMsR0FBRyxDQUFDLFFBQVEsRUFBRSxLQUFLLENBQUMsQ0FBQztZQUMzRixDQUFDLENBQUMsR0FBRyxHQUFDLGlCQUFpQixHQUFDLHdEQUF3RCxDQUFDLENBQUMsR0FBRyxDQUFDLGNBQWMsRUFBRSxnQkFBZ0IsQ0FBQyxDQUFDO1lBQ3hILENBQUMsQ0FBQyxHQUFHLEdBQUMsaUJBQWlCLEdBQUMsNENBQTRDLENBQUMsQ0FBQyxHQUFHLENBQUMsT0FBTyxFQUFFLE1BQU0sQ0FBQyxDQUFDO1FBQy9GLENBQUM7UUFHRCx1REFBc0IsR0FBdEIsVUFBdUIsUUFBUTtZQUMzQixJQUFJLEtBQUssR0FBRywwREFHTixHQUFHLFFBQVEsR0FBRSxpR0FJYixHQUFHLFFBQVEsR0FBRSxzUkFPYixHQUFHLFFBQVEsR0FBRSw4SUFHTixDQUFDO1lBRWQsT0FBTyxLQUFLLENBQUM7UUFDakIsQ0FBQztRQUNMLDZCQUFDO0lBQUQsQ0FBQyxBQXhORCxJQXdOQztJQXhOWSx3REFBc0IiLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgY2xhc3MgVGFiV2lkZ2V0U3R5bGVQcm92aWRlcntcclxuXHJcbiAgICBwcml2YXRlIHN0YXRpYyBpbnN0YW5jZTogVGFiV2lkZ2V0U3R5bGVQcm92aWRlcjtcclxuICBcclxuICAgIHN0YXRpYyBnZXRJbnN0YW5jZSgpIHtcclxuICAgICAgICBpZiAoIVRhYldpZGdldFN0eWxlUHJvdmlkZXIuaW5zdGFuY2UpIHtcclxuICAgICAgICAgICAgVGFiV2lkZ2V0U3R5bGVQcm92aWRlci5pbnN0YW5jZSA9IG5ldyBUYWJXaWRnZXRTdHlsZVByb3ZpZGVyKCk7XHJcbiAgICAgICAgICAgIC8vIC4uLiBhbnkgb25lIHRpbWUgaW5pdGlhbGl6YXRpb24gZ29lcyBoZXJlIC4uLlxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gVGFiV2lkZ2V0U3R5bGVQcm92aWRlci5pbnN0YW5jZTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGFwcGVuZENsYXNzKGNsYXNzTmFtZTogc3RyaW5nLCBzdHlsZUNsYXNzOiBzdHJpbmcpe1xyXG4gICAgICAgIGxldCB0ID0gJChcImhlYWRcIikuaGFzKFwiPHN0eWxlPiBcIitzdHlsZUNsYXNzK1wiIDwvc3R5bGU+XCIpO1xyXG4gICAgICAgIGlmKHQpe1xyXG4gICAgICAgICAgICAkKFwiaGVhZFwiKS5hcHBlbmQoXCI8c3R5bGU+IFwiK3N0eWxlQ2xhc3MrXCIgPC9zdHlsZT5cIik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8vU2V0IEF0dHJpYnV0ZXMgZm9yIFwib3VyXCIgQ29tcG9uZW50c1xyXG4gICAgZ2V0VGFiT3ZlcnZpZXdEcm9wZG93bkxpbmVTdHlsZUNsYXNzKGlkZW50aWZpZXI6IHN0cmluZykgOiBzdHJpbmd7XHJcbiAgICAgICAgbGV0IGNsYXNzbmFtZTogc3RyaW5nID0gaWRlbnRpZmllcitcIl9kcm9wZG93bkxpbmVTdHlsZVwiO1xyXG4gICAgICAgIGxldCBzdHlsZUNsYXNzOiBzdHJpbmcgPSBcIi5cIitjbGFzc25hbWUgKyBgeyBcclxuICAgICAgICAgICAgICAgIGZsb2F0OiByaWdodDsgXHJcbiAgICAgICAgICAgICAgICBoZWlnaHQ6IDE1cHg7IFxyXG4gICAgICAgICAgICAgICAgbWFyZ2luLWxlZnQ6IDVweDsgXHJcbiAgICAgICAgICAgICAgICB3aWR0aDogMjBweDsgXHJcbiAgICAgICAgfWA7XHJcblxyXG4gICAgICAgIHRoaXMuYXBwZW5kQ2xhc3MoY2xhc3NuYW1lLCBzdHlsZUNsYXNzKTtcclxuICAgICAgICByZXR1cm4gY2xhc3NuYW1lO1xyXG4gICAgfVxyXG5cclxuICAgIGdldFRhYk92ZXJ2aWV3RHJvcGRvd25DbG9zZUFsbFN0eWxlQ2xhc3MoaWRlbnRpZmllcjogc3RyaW5nKSA6c3RyaW5ne1xyXG4gICAgICAgIGxldCBjbGFzc25hbWU6IHN0cmluZyA9IGlkZW50aWZpZXIrXCJfZHJvcGRvd25DbG9zZUFsbFwiO1xyXG4gICAgICAgIGxldCBzdHlsZUNsYXNzOiBzdHJpbmcgPSBcIi5cIitjbGFzc25hbWUgKyBgeyBcclxuICAgICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogdmFyKC0tbWFpbi1ibGFjayk7XHJcbiAgICAgICAgICAgIGNvbG9yOiBncmV5O1xyXG4gICAgICAgICAgICBib3JkZXI6IDBweDtcclxuICAgICAgICAgICAgd2lkdGg6IDQ4JTtcclxuICAgICAgICB9YDtcclxuXHJcbiAgICAgICAgdGhpcy5hcHBlbmRDbGFzcyhjbGFzc25hbWUsc3R5bGVDbGFzcyk7XHJcbiAgICAgICAgcmV0dXJuIGNsYXNzbmFtZTtcclxuICAgIH1cclxuXHJcbi8vVE9ETzogbWlncmF0ZSB0byBuZXcgc3R5bGluZyBtZWNoYW5pc21cclxuICAgIC8vc2V0IENTUy1BdHRyaWJ1dGVzIGZvciBTRi1Db21wb25lbnRzXHJcbiAgICAgZ2V0RHJvcGRvd25TdHlsZShsYXlvdXRDb250YWluZXJJZCl7XHJcbiAgICAgICAgbGV0IGh0bWwgPSBgPHN0eWxlPlxyXG4gICAgICAgICAgICAjYCtsYXlvdXRDb250YWluZXJJZCtgX2Ryb3Bkb3duX2Ryb3Bkb3duIHtcclxuICAgICAgICAgICAgICAgIHdpZHRoOiAxMDAlO1xyXG4gICAgICAgICAgICAgICAgY29sb3I6IHZhcigtLW1haW4tYm9yZGVyLWNvbG9yKTtcclxuICAgICAgICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6IHZhcigtLW1haW4tYmxhY2spO1xyXG4gICAgICAgICAgICAgICAgYm9yZGVyLWxlZnQ6IHZhcigtLW1haW4tYm9yZGVyLWNvbG9yKSBzb2xpZCAycHg7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICNgK2xheW91dENvbnRhaW5lcklkK2BfZHJvcGRvd25fZHJvcGRvd246aG92ZXIge1xyXG4gICAgICAgICAgICAgICAgY29sb3I6d2hpdGU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICNgK2xheW91dENvbnRhaW5lcklkK2BfZHJvcGRvd25fcG9wdXAgdWwgbGl7XHJcbiAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1tYWluLWJsYWNrKTtcclxuICAgICAgICAgICAgICAgIGNvbG9yOiNBRkFGQUY7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICNgK2xheW91dENvbnRhaW5lcklkK2BfZHJvcGRvd25fcG9wdXAgdWwgbGk6aG92ZXJ7XHJcbiAgICAgICAgICAgICAgICBjb2xvcjogd2hpdGU7XHJcbiAgICAgICAgICAgICAgICBjdXJzb3I6IHBvaW50ZXI7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICNgK2xheW91dENvbnRhaW5lcklkK2BfZHJvcGRvd25fcG9wdXAgdWwgbGkgV2J1dHRvbntcclxuICAgICAgICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6IHZhcigtLW1haW4tYmxhY2spO1xyXG4gICAgICAgICAgICAgICAgY29sb3I6IGdyZXk7XHJcbiAgICAgICAgICAgICAgICBib3JkZXI6IDBweDsgXHJcbiAgICAgICAgICAgICAgICBoZWlnaHQ6IDEwMCU7XHJcbiAgICAgICAgICAgICAgICB3aWR0aDogMTVweDsgXHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICNgK2xheW91dENvbnRhaW5lcklkK2BfZHJvcGRvd25fcG9wdXAgdWwgbGkgYnV0dG9uIGltZ3tcclxuICAgICAgICAgICAgICAgd2lkdGg6IGluaGVyaXQ7XHJcbiAgICAgICAgICAgICAgIGhlaWdodDogaW5oZXJpdDtcclxuICAgICAgICAgICAgICAgLXdlYmtpdC1maWx0ZXI6IGNvbnRyYXN0KDApO1xyXG4gICAgICAgICAgICAgICAgZmlsdGVyOiBjb250cmFzdCgwKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgI2ArbGF5b3V0Q29udGFpbmVySWQrYF9kcm9wZG93bl9wb3B1cCB1bCBsaSBidXR0b24gaW1nOmhvdmVye1xyXG4gICAgICAgICAgICAgICAgLXdlYmtpdC1maWx0ZXI6IGNvbnRyYXN0KDEpO1xyXG4gICAgICAgICAgICAgICAgZmlsdGVyOiBjb250cmFzdCgxKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBcclxuICAgICAgICA8L3N0eWxlPmBcclxuXHJcbiAgICAgICAgcmV0dXJuIGh0bWw7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0TGF5b3V0U3R5bGVGb3JUYWJCYXJEcm9wRG93bih0YWJCYXJOYW1lKXtcclxuICAgICAgICBsZXQgaHRtbCA9YDxzdHlsZT4gXHJcbiAgICAgICAgICAgICNgK3RhYkJhck5hbWUrYF9kcm9wZG93bl9jbG9zZUFsbHtcclxuICAgICAgICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6IHZhcigtLW1haW4tYmxhY2spO1xyXG4gICAgICAgICAgICAgICAgY29sb3I6IGdyZXk7XHJcbiAgICAgICAgICAgICAgICBib3JkZXI6IDBweDtcclxuICAgICAgICAgICAgICAgIHdpZHRoOiA0OCU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICNgK3RhYkJhck5hbWUrYF9kcm9wZG93bl9jbG9zZUFsbDpob3ZlcntcclxuICAgICAgICAgICAgICAgIGNvbG9yOndoaXRlO1xyXG4gICAgICAgICAgICAgICAgY3Vyc29yOiBwb2ludGVyO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAjYCt0YWJCYXJOYW1lK2BfZHJvcGRvd25fY2xvc2VBbGxPdGhlcntcclxuICAgICAgICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6IHZhcigtLW1haW4tYmxhY2spO1xyXG4gICAgICAgICAgICAgICAgY29sb3I6IGdyZXk7XHJcbiAgICAgICAgICAgICAgICBib3JkZXI6IDBweDtcclxuICAgICAgICAgICAgICAgIGJvcmRlci1sZWZ0OiAxcHggZ3JleSBzb2xpZDtcclxuICAgICAgICAgICAgICAgIHdpZHRoOiA0OCU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICNgK3RhYkJhck5hbWUrYF9kcm9wZG93bl9jbG9zZUFsbE90aGVyOmhvdmVye1xyXG4gICAgICAgICAgICAgICAgY29sb3I6d2hpdGU7XHJcbiAgICAgICAgICAgICAgICBjdXJzb3I6IHBvaW50ZXI7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgPC9zdHlsZT5gXHJcblxyXG4gICAgICAgIHJldHVybiBodG1sO1xyXG4gICAgICAgIFxyXG4gICAgfVxyXG5cclxuICAgIHNldE92ZXJ2aWV3RHJvcGRvd25Nb3VzZU92ZXIobGF5b3V0Q29udGFpbmVySWQpe1xyXG4gICAgICAgICQoXCIjXCIrbGF5b3V0Q29udGFpbmVySWQrXCJfZHJvcGRvd25fcG9wdXBfbGlzdF93cmFwcGVyX2hlYWRlciBidXR0b25cIikubW91c2VvdmVyKGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAkKHRoaXMpLmNzcyhcImNvbG9yXCIsIFwid2hpdGVcIilcclxuICAgICAgICB9KS5tb3VzZW91dChmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgJCh0aGlzKS5jc3MoXCJjb2xvclwiLCBcImdyZXlcIilcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBzZXRGbGV4VGFiU3RseWUobmV3TGF5b3V0RWxlbWVudElkOiBzdHJpbmcpe1xyXG4gICAgICAgICQoXCIjXCIrbmV3TGF5b3V0RWxlbWVudElkK1wiX3RhZ19jb250YWluZXJcIikuYWRkQ2xhc3MoXCJUYWJCYXJUYWdEcm9wZG93blwiKTtcclxuICAgICAgICAkKFwiI1wiK25ld0xheW91dEVsZW1lbnRJZCtcIl90YWdfaGlkZGVuXCIpLmFkZENsYXNzKFwiVGFiQmFyVGFnRHJvcGRvd25cIik7XHJcbiAgICAgICAgJChcIiNcIituZXdMYXlvdXRFbGVtZW50SWQrXCJfdGFnX2Ryb3Bkb3duXCIpLmFkZENsYXNzKFwiVGFiQmFyVGFnRHJvcGRvd25cIik7XHJcblxyXG4gICAgXHJcbiAgICAgICAgJChcIiNcIituZXdMYXlvdXRFbGVtZW50SWQrXCJfdGFnX2hpZGRlblwiKS5jc3MoXCJiYWNrZ3JvdW5kXCIsIFwiaW5oZXJpdFwiKTtcclxuICAgICAgICAkKFwiI1wiK25ld0xheW91dEVsZW1lbnRJZCtcIl90YWdfaGlkZGVuXCIpLmNzcyhcImNvbG9yXCIsIFwid2hpdGVcIik7XHJcbiAgICAgICAgJChcIiNcIituZXdMYXlvdXRFbGVtZW50SWQrXCJfdGFnX2hpZGRlblwiKS5jc3MoXCJvcGFjaXR5XCIsIFwiMVwiKTtcclxuXHJcbiAgICAgICAgbGV0IHdpZHRoID0gJChcIiNcIituZXdMYXlvdXRFbGVtZW50SWQrXCJfdGFnX3BvcHVwX2xpc3Rfd3JhcHBlclwiKS5jc3MoXCJ3aWR0aFwiKTtcclxuICAgICAgICAkKFwiI1wiK25ld0xheW91dEVsZW1lbnRJZCtcIl90YWdfaGlkZGVuXCIpLmNzcyhcIndpZHRoXCIsIHdpZHRoISk7XHJcblxyXG4gICAgICAgICQoXCIjXCIrbmV3TGF5b3V0RWxlbWVudElkK1wiX3RhZ19jb250YWluZXJcIikuY3NzKFwiYmFja2dyb3VuZFwiLCBcImluaGVyaXRcIik7XHJcbiAgICAgICAgJChcIiNcIituZXdMYXlvdXRFbGVtZW50SWQrXCJfdGFnX2NvbnRhaW5lclwiKS5jc3MoXCJjb2xvclwiLCBcIndoaXRlXCIpO1xyXG5cclxuICAgICAgICAkKFwiI1wiK25ld0xheW91dEVsZW1lbnRJZCtcIl90YWdfZHJvcGRvd25cIikuY3NzKFwiYmFja2dyb3VuZFwiLCBcImluaGVyaXRcIik7XHJcbiAgICAgICAgJChcIiNcIituZXdMYXlvdXRFbGVtZW50SWQrXCJfdGFnX2Ryb3Bkb3duXCIpLmNzcyhcImNvbG9yXCIsIFwid2hpdGVcIik7XHJcbiAgICAgICAgJChcIiNcIituZXdMYXlvdXRFbGVtZW50SWQrXCJfdGFnX2Ryb3Bkb3duXCIpLmNzcyhcImJvcmRlclwiLCBcIjBweFwiKTtcclxuICAgIH1cclxuXHJcbiAgICBzZXRGbGV4VGFiQWN0aXZlVGFiU3R5bGUodGFiTmFtZTpzdHJpbmcpe1xyXG4gICAgICAgIGxldCBlbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodGFiTmFtZSk7XHJcbiAgICAgICAgaWYoZWxlbWVudCAhPSB1bmRlZmluZWQpe1xyXG4gICAgICAgICAgICBlbGVtZW50LnN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCI7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIGxldCB0YWJFbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodGFiTmFtZStcIl90YWJcIik7XHJcbiAgICAgICAgaWYodGFiRWxlbWVudCAhPSAgdW5kZWZpbmVkKXtcclxuICAgICAgICAgICAgdGFiRWxlbWVudC5jbGFzc05hbWUgKz0gXCIgYWN0aXZlXCI7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHNldEZsZXhUYWJTZWxlY3Rpb25Ecm9wZG93blBvcHVwU3R5bGUobGF5b3V0Q29udGFpbmVySWQpe1xyXG4gICAgICAgICQoXCIjXCIrbGF5b3V0Q29udGFpbmVySWQrXCJfZHJvcGRvd25fd3JhcHBlclwiKS5jc3MoXCJmbG9hdFwiLCBcInJpZ2h0XCIpO1xyXG4gICAgICAgICQoXCIjXCIrbGF5b3V0Q29udGFpbmVySWQrXCJfZHJvcGRvd25fY29udGFpbmVyXCIpLmNzcyhcImJvcmRlclwiLCBcIjBweFwiKTtcclxuICAgICAgICAkKFwiI1wiK2xheW91dENvbnRhaW5lcklkK1wiX2Ryb3Bkb3duX2NvbnRhaW5lclwiKS5jc3MoXCJtYXJnaW4tcmlnaHRcIiwgXCIzcHhcIik7XHJcbiAgICAgICAgJChcIiNcIitsYXlvdXRDb250YWluZXJJZCtcIl9kcm9wZG93bl9oaWRkZW5cIikuY3NzKFwiZGlzcGxheVwiLCBcIm5vbmVcIik7XHJcbiAgICAgICBcclxuICAgICAgXHJcblxyXG4gICAgICAgICQoXCIjXCIrbGF5b3V0Q29udGFpbmVySWQrXCJfZHJvcGRvd25fcG9wdXBfbGlzdF93cmFwcGVyXCIpLmNzcyhcIm1pbi13aWR0aFwiLCBcIjI4MHB4XCIpO1xyXG5cclxuXHJcbiAgICAgICAgJChcIiNcIitsYXlvdXRDb250YWluZXJJZCtcIl9kcm9wZG93bl9wb3B1cF9saXN0X3dyYXBwZXJfaGVhZGVyXCIpLmNzcyhcImhlaWdodFwiLCBcIjMwcHhcIik7XHJcbiAgICAgICAgJChcIiNcIitsYXlvdXRDb250YWluZXJJZCtcIl9kcm9wZG93bl9wb3B1cF9saXN0X3dyYXBwZXJfaGVhZGVyXCIpLmNzcyhcImJhY2tncm91bmRcIiwgXCJ2YXIoLS1tYWluLWJsYWNrKVwiKTtcclxuICAgICAgICAkKFwiI1wiK2xheW91dENvbnRhaW5lcklkK1wiX2Ryb3Bkb3duX3BvcHVwX2xpc3Rfd3JhcHBlcl9oZWFkZXJcIikuY3NzKFwiYm9yZGVyLXRvcFwiLCBcIjFweCBncmF5IHNvbGlkXCIpO1xyXG5cclxuICAgICAgICAkKFwiI1wiK2xheW91dENvbnRhaW5lcklkK1wiX2Ryb3Bkb3duX3BvcHVwX2xpc3Rfd3JhcHBlcl9oZWFkZXIgYnV0dG9uXCIpLmNzcyhcIndpZHRoXCIsIFwiNDklXCIpO1xyXG4gICAgICAgICQoXCIjXCIrbGF5b3V0Q29udGFpbmVySWQrXCJfZHJvcGRvd25fcG9wdXBfbGlzdF93cmFwcGVyX2hlYWRlciBidXR0b25cIikuY3NzKFwiaGVpZ2h0XCIsIFwiaW5oZXJpdFwiKTtcclxuICAgICAgICAkKFwiI1wiK2xheW91dENvbnRhaW5lcklkK1wiX2Ryb3Bkb3duX3BvcHVwX2xpc3Rfd3JhcHBlcl9oZWFkZXIgYnV0dG9uXCIpLmNzcyhcImJhY2tncm91bmRcIiwgXCJ2YXIoLS1tYWluLWJsYWNrKVwiKTtcclxuICAgICAgICAkKFwiI1wiK2xheW91dENvbnRhaW5lcklkK1wiX2Ryb3Bkb3duX3BvcHVwX2xpc3Rfd3JhcHBlcl9oZWFkZXIgYnV0dG9uXCIpLmNzcyhcImJvcmRlclwiLCBcIjBweFwiKTtcclxuICAgICAgICAkKFwiI1wiK2xheW91dENvbnRhaW5lcklkK1wiX2Ryb3Bkb3duX3BvcHVwX2xpc3Rfd3JhcHBlcl9oZWFkZXIgYnV0dG9uOmZpcnN0LWNoaWxkXCIpLmNzcyhcImJvcmRlci1yaWdodFwiLCBcIjFweCBncmV5IHNvbGlkXCIpO1xyXG4gICAgICAgICQoXCIjXCIrbGF5b3V0Q29udGFpbmVySWQrXCJfZHJvcGRvd25fcG9wdXBfbGlzdF93cmFwcGVyX2hlYWRlciBidXR0b25cIikuY3NzKFwiY29sb3JcIiwgXCJncmV5XCIpO1xyXG4gICAgfVxyXG4gICAgXHJcblxyXG4gICAgZ2V0RHJvcGRvd25CdXR0b25TdHlsZShidXR0b25JZCl7XHJcbiAgICAgICAgbGV0IHN0eWxlID0gYFxyXG4gICAgICAgICAgICA8c3R5bGUgdHlwZT1cInRleHQvY3NzXCI+XHJcblxyXG4gICAgICAgICAgICAjYCArIGJ1dHRvbklkICtge1xyXG4gICAgICAgICAgICAgICAgYm9yZGVyOiAwcHg7XHJcbiAgICAgICAgICAgICAgICBtYXJnaW4tbGVmdDozcHg7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLmAgKyBidXR0b25JZCArYCB7XHJcbiAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kLWltYWdlOiB1cmwoXCJ3aWRnZXRzL3RhYndpZGdldC9zdHlsZS9pbWFnZXMvSWNvbkJhc2tldF9ncmV5LnN2Z1wiKTtcclxuICAgICAgICAgICAgICAgIGJhY2tncm91bmQtcmVwZWF0OiBuby1yZXBlYXQ7XHJcbiAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kLXNpemU6IDE2cHggMTZweDtcclxuICAgICAgICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6IHZhcigtLW1haW4tYmxhY2spO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAuYCArIGJ1dHRvbklkICtgOmhvdmVyIHtcclxuICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kLWltYWdlOiB1cmwoXCJ3aWRnZXRzL3RhYndpZGdldC9zdHlsZS9pbWFnZXMvSWNvbkJhc2tldC5zdmdcIik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgPC9zdHlsZT5gO1xyXG5cclxuICAgICAgICByZXR1cm4gc3R5bGU7XHJcbiAgICB9XHJcbn0iXX0=